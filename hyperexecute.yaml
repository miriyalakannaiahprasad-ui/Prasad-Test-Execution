version: 0.1

globalTimeout: 1200

env:
  LT_USERNAME: miriyalakannaiahprasad
  LT_ACCESS_KEY: LT_zSJ1auyDTvYdGijmNUwJrx80QnIe02PahM54NTzZsq0I1U8

runson: linux

pre:
  - git clone https://github.com/miriyalakannaiahprasad-ui/Prasad-Test-Execution.git
  - echo "Pre steps completed"

test:
  - |
    cd Prasad-Test-Execution

    # Verify testng.xml exists
    if [ ! -f testng.xml ]; then
      echo "ERROR: testng.xml not found"
      exit 1
    fi

    # Run Maven tests in batch mode with console output for HyperExecute
    mvn clean test -B -Dsurefire.useFile=false

    echo "Tests completed"

post:
  - |
    cd Prasad-Test-Execution
    echo "Post steps executed"
    mvn clean
